const n=(...a)=>console.log(...a);async function v(a,p){n("[bt-mahsunkids] üöÄ Script de header carregado!");function h(e=50,t=100){return new Promise(s=>{let l=0;const u=()=>{l++;const m=document.querySelector("#header-react-app");if(m){n("[bt-mahsunkids] ‚úÖ Header encontrado ap√≥s",l,"tentativas"),s(m);return}if(l>=e){console.error("[bt-mahsunkids] ‚ùå Header n√£o encontrado ap√≥s",e,"tentativas"),s(null);return}setTimeout(u,t)};u()})}async function c(){const e=await h();e&&d(e)}const f=document.querySelector("#header-react-app");f?(n("[bt-mahsunkids] ‚úÖ Header j√° dispon√≠vel, iniciando..."),d(f)):(n("[bt-mahsunkids] ‚è≥ Aguardando header aparecer..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c());function d(e){if(n("[bt-mahsunkids] ‚úÖ Iniciando configura√ß√£o do header..."),!e){console.error("[bt-mahsunkids] ‚ùå Header n√£o fornecido!");return}n("[bt-mahsunkids] ‚úÖ Header recebido:",e);const t={allowedPages:["/mah-sun-kids","/teste","/home-nova"],scrollThreshold:50};function s(){document.querySelectorAll(".container-menu a, .container-menu span.menu-text").forEach(function(o){o.classList.remove("text-cor-texto"),o.classList.remove("dark:text-secondary-50"),o.classList.remove("dark:text-secondary-300"),o.classList.remove("dark:hover:text-secondary-300"),o.style.color="#333333"}),document.querySelectorAll(".container-menu").forEach(function(o){o.style.backgroundColor="#ffffff"})}function l(){const r=window.location.pathname,i=t.allowedPages.some(o=>r===o||r===o+"/"||r.startsWith(o+"/"));return n("[bt-mahsunkids] üîç P√°gina:",r,"| Permitida?",i),i}function u(){return l()}function m(){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.zIndex="999"}function b(){m();const r=window.pageYOffset||document.documentElement.scrollTop,i=u();if(n("[bt-mahsunkids] üìä Scroll:",r,"| Deve ser transparente?",i),!i){e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",n("[bt-mahsunkids] ‚úÖ Header BRANCO (p√°gina n√£o permitida)");return}r>t.scrollThreshold?(e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",n("[bt-mahsunkids] ‚úÖ Header BRANCO (scrolled)")):(e.classList.remove("header-scrolled"),e.style.backgroundColor="transparent",n("[bt-mahsunkids] ‚úÖ Header TRANSPARENTE"))}m(),b();let y=!1;window.addEventListener("scroll",function(){y||(window.requestAnimationFrame(function(){b(),y=!1}),y=!0)}),u()&&(document.body.classList.add("has-transparent-header"),n('[bt-mahsunkids] ‚úÖ Classe "has-transparent-header" adicionada')),document.querySelectorAll("#nav-root > li").forEach(function(r){r.addEventListener("mouseenter",function(){setTimeout(s,10)})}),setInterval(s,1e3),setTimeout(s,500)}}async function g(){n("[bt-mahsunkids] üé® Iniciando overlay de banners...");const a={allowedPages:["/","/index.html","/mah-sun-kids","/teste","/home-nova"],opacity:.3,color:"0, 0, 0"};function p(){const e=window.location.pathname;return a.allowedPages.some(t=>e===t||e===t+"/"||e.startsWith(t+"/"))}function h(){return p()}if(!h()){n("[bt-mahsunkids] ‚ùå Overlay n√£o ser√° aplicado nesta p√°gina");return}function c(){document.querySelectorAll(".bt-section-banner .swiper-slide").forEach(function(t){if(!t.querySelector(".banner-overlay")){const s=document.createElement("div");s.className="banner-overlay",s.style.backgroundColor=`rgba(${a.color}, ${a.opacity})`,t.appendChild(s),n("[bt-mahsunkids] ‚úÖ Overlay aplicado")}})}setTimeout(c,500);const f=new MutationObserver(c),d=document.querySelector(".bt-section-banner");d&&f.observe(d,{childList:!0,subtree:!0})}export{g as initBannerOverlay,v as mount};
