async function g(u,y){console.log("[bt-mahsunkids] üöÄ Script de header carregado!");function f(e=50,n=100){return new Promise(s=>{let i=0;const l=()=>{i++;const d=document.querySelector("#header-react-app");if(d){console.log("[bt-mahsunkids] ‚úÖ Header encontrado ap√≥s",i,"tentativas"),s(d);return}if(i>=e){console.error("[bt-mahsunkids] ‚ùå Header n√£o encontrado ap√≥s",e,"tentativas"),s(null);return}setTimeout(l,n)};l()})}async function a(){const e=await f();e&&c(e)}const m=document.querySelector("#header-react-app");m?(console.log("[bt-mahsunkids] ‚úÖ Header j√° dispon√≠vel, iniciando..."),c(m)):(console.log("[bt-mahsunkids] ‚è≥ Aguardando header aparecer..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a());function c(e){if(console.log("[bt-mahsunkids] ‚úÖ Iniciando configura√ß√£o do header..."),!e){console.error("[bt-mahsunkids] ‚ùå Header n√£o fornecido!");return}console.log("[bt-mahsunkids] ‚úÖ Header recebido:",e);const n={allowedPages:["/mah-sun-kids","/teste","/home-nova"],scrollThreshold:50};function s(){document.querySelectorAll(".container-menu a, .container-menu span.menu-text").forEach(function(o){o.classList.remove("text-cor-texto"),o.classList.remove("dark:text-secondary-50"),o.classList.remove("dark:text-secondary-300"),o.classList.remove("dark:hover:text-secondary-300"),o.style.color="#333333"}),document.querySelectorAll(".container-menu").forEach(function(o){o.style.backgroundColor="#ffffff"})}function i(){const t=window.location.pathname,r=n.allowedPages.some(o=>t===o||t===o+"/"||t.startsWith(o+"/")||t.includes(o));return console.log("[bt-mahsunkids] üîç P√°gina:",t,"| Permitida?",r),r}function l(){return i()}function d(){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.zIndex="999"}function p(){d();const t=window.pageYOffset||document.documentElement.scrollTop,r=l();if(console.log("[bt-mahsunkids] üìä Scroll:",t,"| Deve ser transparente?",r),!r){e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",console.log("[bt-mahsunkids] ‚úÖ Header BRANCO (p√°gina n√£o permitida)");return}t>n.scrollThreshold?(e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",console.log("[bt-mahsunkids] ‚úÖ Header BRANCO (scrolled)")):(e.classList.remove("header-scrolled"),e.style.backgroundColor="transparent",console.log("[bt-mahsunkids] ‚úÖ Header TRANSPARENTE"))}d(),p();let h=!1;window.addEventListener("scroll",function(){h||(window.requestAnimationFrame(function(){p(),h=!1}),h=!0)}),l()&&(document.body.classList.add("has-transparent-header"),console.log('[bt-mahsunkids] ‚úÖ Classe "has-transparent-header" adicionada')),document.querySelectorAll("#nav-root > li").forEach(function(t){t.addEventListener("mouseenter",function(){setTimeout(s,10)})}),setInterval(s,1e3),setTimeout(s,500)}}async function k(){console.log("[bt-mahsunkids] üé® Iniciando overlay de banners...");const u={allowedPages:["/","/index.html","/mah-sun-kids","/teste","/home-nova"],opacity:.3,color:"0, 0, 0"};function y(){const e=window.location.pathname;return u.allowedPages.some(n=>e===n||e===n+"/"||e.startsWith(n+"/")||e.includes(n))}function f(){return y()}if(!f()){console.log("[bt-mahsunkids] ‚ùå Overlay n√£o ser√° aplicado nesta p√°gina");return}function a(){document.querySelectorAll(".bt-section-banner .swiper-slide").forEach(function(n){if(!n.querySelector(".banner-overlay")){const s=document.createElement("div");s.className="banner-overlay",s.style.backgroundColor=`rgba(${u.color}, ${u.opacity})`,n.appendChild(s),console.log("[bt-mahsunkids] ‚úÖ Overlay aplicado")}})}setTimeout(a,500);const m=new MutationObserver(a),c=document.querySelector(".bt-section-banner");c&&m.observe(c,{childList:!0,subtree:!0})}export{k as initBannerOverlay,g as mount};
