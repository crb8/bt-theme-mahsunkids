const k="modulepreload",w=function(a){return"/"+a},b={},h=function(f,o,u){let l=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));l=Promise.allSettled(o.map(r=>{if(r=w(r),r in b)return;b[r]=!0;const i=r.endsWith(".css"),m=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${m}`))return;const e=document.createElement("link");if(e.rel=i?"stylesheet":k,i||(e.as="script"),e.crossOrigin="",e.href=r,n&&e.setAttribute("nonce",n),document.head.appendChild(e),i)return new Promise((s,c)=>{e.addEventListener("load",s),e.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})}))}function d(t){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=t,window.dispatchEvent(n),!n.defaultPrevented)throw t}return l.then(t=>{for(const n of t||[])n.status==="rejected"&&d(n.reason);return f().catch(d)})};window.__btInit||(window.__btInit=!0,(async()=>{const a=location.hostname;if(!["mahsunkids.com.br","www.mahsunkids.com.br"].some(o=>a.includes(o))){console.warn("[bt-theme-mahsunkids] Domínio não autorizado:",a);return}try{const o="mahsunkids";document.documentElement.setAttribute("data-bt",o);const u=new URL("/bt/base.css",import.meta.url).href,l=Object.assign(document.createElement("link"),{rel:"preload",as:"style",href:u}),d=Object.assign(document.createElement("link"),{rel:"stylesheet",href:u});document.head.append(l,d);const t=new URL("/bt/bt-overrides.mahsunkids.v1.css",import.meta.url).href,n=Object.assign(document.createElement("link"),{rel:"preload",as:"style",href:t}),r=Object.assign(document.createElement("link"),{rel:"stylesheet",href:t});document.head.append(n,r),console.log("[bt-mahsunkids] 🔄 Iniciando import do header...");try{let e;if(import.meta.url.includes("workers.dev")){const s=new URL("/bt/chunks/mahsunkids-header.js",import.meta.url).href;console.log("[bt-mahsunkids] 🔗 URL do header (Worker):",s),e=await import(s)}else e=await h(()=>import("./chunks/mahsunkids-header.js"),[]);console.log("[bt-mahsunkids] 📦 Header module carregado:",e),console.log("[bt-mahsunkids] 📋 Funções disponíveis:",Object.keys(e)),typeof e.mount=="function"?(console.log("[bt-mahsunkids] ✅ Função mount encontrada, executando..."),await e.mount(document.body,{tenant:o,host:a}),console.log("[bt-mahsunkids] ✅ Header mount executado")):console.warn("[bt-mahsunkids] ⚠️ Função mount NÃO encontrada no módulo"),typeof e.initBannerOverlay=="function"&&(await e.initBannerOverlay(),console.log("[bt-mahsunkids] ✅ Banner overlay inicializado"))}catch(e){console.error("[bt-mahsunkids] ❌ Erro ao carregar header:",e),console.error("[bt-mahsunkids] ❌ Stack trace:",e.stack)}const i=()=>h(()=>import("./chunks/mahsunkids-faq.js"),[]),m=()=>h(()=>import("./chunks/mahsunkids-carousel.js"),[]);document.querySelectorAll("[data-bt-block]").forEach(async e=>{const s=e.getAttribute("data-bt-block");let c=null;if(s==="faq")c=await i();else if(s==="carousel")c=await m();else{console.warn("[bt-theme-mahsunkids] Bloco desconhecido:",s);return}typeof c.mount=="function"&&c.mount(e,{tenant:o,host:a})})}catch(o){console.error("[bt-theme-mahsunkids] boot error:",o)}})());
