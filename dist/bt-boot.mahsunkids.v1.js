const y="modulepreload",E=function(t){return"/"+t},k={},p=function(h,d,s){let m=Promise.resolve();if(d&&d.length>0){let f=function(o){return Promise.all(o.map(a=>Promise.resolve(a).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),n=r?.nonce||r?.getAttribute("nonce");m=f(d.map(o=>{if(o=E(o),o in k)return;k[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const e=document.createElement("link");if(e.rel=a?"stylesheet":y,a||(e.as="script"),e.crossOrigin="",e.href=o,n&&e.setAttribute("nonce",n),document.head.appendChild(e),a)return new Promise((i,u)=>{e.addEventListener("load",i),e.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})}))}function b(r){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=r,window.dispatchEvent(n),!n.defaultPrevented)throw r}return m.then(r=>{for(const n of r||[])n.status==="rejected"&&b(n.reason);return h().catch(b)})};const c=(...t)=>console.log(...t),w=(...t)=>console.warn(...t);console.log("[bt-mahsunkids] ✅ Script boot carregado!");window.__btInit||(window.__btInit=!0,(async()=>{const t=location.hostname;console.log("[bt-mahsunkids] 🌐 Hostname detectado:",t);const h=["mahsunkids.com.br","www.mahsunkids.com.br"],d=h.some(s=>t===s||t.endsWith("."+s));if(console.log("[bt-mahsunkids] 🔒 Validação de domínio:",d?"PASSOU ✅":"BLOQUEADO ❌"),!d){console.warn("[bt-theme-mahsunkids] ⛔ Domínio não autorizado:",t),console.warn("[bt-theme-mahsunkids] 📋 Domínios permitidos:",h);return}console.log("[bt-mahsunkids] 🚀 Iniciando carregamento do tema...");try{const s="mahsunkids";document.documentElement.setAttribute("data-bt",s);const m=new URL("/bt/base.css",import.meta.url).href,b=Object.assign(document.createElement("link"),{rel:"preload",as:"style",href:m}),r=Object.assign(document.createElement("link"),{rel:"stylesheet",href:m});document.head.append(b,r);const n=new URL("/bt/bt-overrides.mahsunkids.v1.css",import.meta.url).href,f=Object.assign(document.createElement("link"),{rel:"preload",as:"style",href:n}),o=Object.assign(document.createElement("link"),{rel:"stylesheet",href:n});document.head.append(f,o),c("[bt-mahsunkids] 🔄 Iniciando import do header...");try{let e;{const i=new URL("/bt/chunks/mahsunkids-header.js",import.meta.url).href;c("[bt-mahsunkids] 🔗 URL do header (Worker):",i),c("[bt-mahsunkids] 🔗 import.meta.url base:",import.meta.url),e=await import(i)}c("[bt-mahsunkids] 📦 Header module carregado:",e),c("[bt-mahsunkids] 📋 Funções disponíveis:",Object.keys(e)),typeof e.mount=="function"?(c("[bt-mahsunkids] ✅ Função mount encontrada, executando..."),await e.mount(document.body,{tenant:s,host:t}),c("[bt-mahsunkids] ✅ Header mount executado")):w("[bt-mahsunkids] ⚠️ Função mount NÃO encontrada no módulo"),typeof e.initBannerOverlay=="function"&&(await e.initBannerOverlay(),c("[bt-mahsunkids] ✅ Banner overlay inicializado"))}catch(e){console.error("[bt-mahsunkids] ❌ Erro ao carregar header:",e),console.error("[bt-mahsunkids] ❌ Stack trace:",e.stack)}const a=()=>p(()=>import("./chunks/mahsunkids-faq.js"),[]),l=()=>p(()=>import("./chunks/mahsunkids-carousel.js"),[]);document.querySelectorAll("[data-bt-block]").forEach(async e=>{const i=e.getAttribute("data-bt-block");let u=null;if(i==="faq")u=await a();else if(i==="carousel")u=await l();else{w("[bt-theme-mahsunkids] Bloco desconhecido:",i);return}typeof u.mount=="function"&&u.mount(e,{tenant:s,host:t})})}catch(s){console.error("[bt-theme-mahsunkids] boot error:",s)}})());
