async function b(l,y){function f(e=50,t=100){return new Promise(o=>{let d=0;const a=()=>{d++;const i=document.querySelector("#header-react-app");if(i){o(i);return}if(d>=e){console.error("[bt-mahsunkids] ❌ Header não encontrado após",e,"tentativas"),o(null);return}setTimeout(a,t)};a()})}async function s(){const e=await f();e&&c(e)}const u=document.querySelector("#header-react-app");u?c(u):document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s();function c(e){if(!e){console.error("[bt-mahsunkids] ❌ Header não fornecido!");return}const t={allowedPages:["/mah-sun-kids","/teste","/home-nova"],scrollThreshold:50};function o(){document.querySelectorAll(".container-menu a, .container-menu span.menu-text").forEach(function(n){n.classList.remove("text-cor-texto"),n.classList.remove("dark:text-secondary-50"),n.classList.remove("dark:text-secondary-300"),n.classList.remove("dark:hover:text-secondary-300"),n.style.color="#333333"}),document.querySelectorAll(".container-menu").forEach(function(n){n.style.backgroundColor="#ffffff"})}function d(){const r=window.location.pathname;return t.allowedPages.some(n=>r===n||r===n+"/"||r.startsWith(n+"/"))}function a(){return d()}function i(){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.zIndex="999"}function p(){i();const r=window.pageYOffset||document.documentElement.scrollTop;if(!a()){e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff";return}r>t.scrollThreshold?(e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff"):(e.classList.remove("header-scrolled"),e.style.backgroundColor="transparent")}i(),p();let m=!1;window.addEventListener("scroll",function(){m||(window.requestAnimationFrame(function(){p(),m=!1}),m=!0)}),a()&&document.body.classList.add("has-transparent-header"),document.querySelectorAll("#nav-root > li").forEach(function(r){r.addEventListener("mouseenter",function(){setTimeout(o,10)})}),setInterval(o,1e3),setTimeout(o,500)}}async function w(){const l={allowedPages:["/","/index.html","/mah-sun-kids","/teste","/home-nova"],opacity:.3,color:"0, 0, 0"};function y(){const e=window.location.pathname;return l.allowedPages.some(t=>e===t||e===t+"/"||e.startsWith(t+"/"))}function f(){return y()}if(!f())return;function s(){document.querySelectorAll(".bt-section-banner .swiper-slide").forEach(function(t){if(!t.querySelector(".banner-overlay")){const o=document.createElement("div");o.className="banner-overlay",o.style.backgroundColor=`rgba(${l.color}, ${l.opacity})`,t.appendChild(o)}})}setTimeout(s,500);const u=new MutationObserver(s),c=document.querySelector(".bt-section-banner");c&&u.observe(c,{childList:!0,subtree:!0})}export{w as initBannerOverlay,b as mount};
