async function S(u,k){console.log("[bt-mahsunkids] üöÄ Script de header carregado!");function h(e=50,n=100){return new Promise(r=>{let i=0;const a=()=>{i++;const d=document.querySelector("#header-react-app");if(d){console.log("[bt-mahsunkids] ‚úÖ Header encontrado ap√≥s",i,"tentativas"),r(d);return}if(i>=e){console.error("[bt-mahsunkids] ‚ùå Header n√£o encontrado ap√≥s",e,"tentativas"),r(null);return}setTimeout(a,n)};a()})}async function c(){const e=await h();e&&l(e)}const f=document.querySelector("#header-react-app");f?(console.log("[bt-mahsunkids] ‚úÖ Header j√° dispon√≠vel, iniciando..."),l(f)):(console.log("[bt-mahsunkids] ‚è≥ Aguardando header aparecer..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c());function l(e){if(console.log("[bt-mahsunkids] ‚úÖ Iniciando configura√ß√£o do header..."),!e){console.error("[bt-mahsunkids] ‚ùå Header n√£o fornecido!");return}console.log("[bt-mahsunkids] ‚úÖ Header recebido:",e);const n={allowedPages:["/mah-sun-kids","/teste","/home-nova"],scrollThreshold:50};function r(){document.querySelectorAll(".container-menu a, .container-menu span.menu-text").forEach(function(o){o.classList.remove("text-cor-texto"),o.classList.remove("dark:text-secondary-50"),o.classList.remove("dark:text-secondary-300"),o.classList.remove("dark:hover:text-secondary-300"),o.style.color="#333333"}),document.querySelectorAll(".container-menu").forEach(function(o){o.style.backgroundColor="#ffffff"})}function i(){const t=window.location.pathname,s=n.allowedPages.some(o=>t===o||t===o+"/"||t.startsWith(o+"/")||t.includes(o));return console.log("[bt-mahsunkids] üîç P√°gina:",t,"| Permitida?",s),s}function a(){return i()}function d(){e.style.setProperty("position","fixed","important"),e.style.setProperty("top","0","important"),e.style.setProperty("left","0","important"),e.style.setProperty("right","0","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("z-index","999","important")}function m(){e.style.removeProperty("background"),e.style.removeProperty("background-color"),e.style.setProperty("background-color","#ffffff","important");const t=e.querySelector(".header-top");t&&t.style.setProperty("background-color","#ffffff","important"),e.classList.add("header-scrolled"),console.log("[bt-mahsunkids] ‚úÖ Fundo branco FOR√áADO")}function v(){e.style.removeProperty("background"),e.style.setProperty("background-color","transparent","important");const t=e.querySelector(".header-top");t&&t.style.setProperty("background-color","transparent","important"),e.classList.remove("header-scrolled"),console.log("[bt-mahsunkids] ‚úÖ Transpar√™ncia FOR√áADA")}function b(){d();const t=window.pageYOffset||document.documentElement.scrollTop,s=a();if(console.log("[bt-mahsunkids] üìä Scroll:",t,"| Deve ser transparente?",s),!s){m(),console.log("[bt-mahsunkids] ‚úÖ Header BRANCO (p√°gina n√£o permitida)");return}t>n.scrollThreshold?(m(),console.log("[bt-mahsunkids] ‚úÖ Header BRANCO (scrolled)")):(v(),console.log("[bt-mahsunkids] ‚úÖ Header TRANSPARENTE"))}d(),b();let g=!1;window.addEventListener("scroll",function(){g||(window.requestAnimationFrame(function(){b(),g=!1}),g=!0)});let p=null;setInterval(function(){const t=window.pageYOffset||document.documentElement.scrollTop,s=a(),o={scroll:t>n.scrollThreshold,shouldBeTransparent:s,expectedBg:t>n.scrollThreshold||!s?"#ffffff":"transparent"};if(!p||p.scroll!==o.scroll||p.shouldBeTransparent!==o.shouldBeTransparent){const y=window.getComputedStyle(e).backgroundColor,T=y.includes("255")||y.includes("rgb(255"),w=o.expectedBg==="#ffffff";w&&!T&&e.classList.contains("header-scrolled")?(console.log("[bt-mahsunkids] üîß Corrigindo: fundo deveria ser branco mas n√£o est√°!"),m()):!w&&T&&!e.classList.contains("header-scrolled")&&(console.log("[bt-mahsunkids] üîß Corrigindo: fundo deveria ser transparente mas n√£o est√°!"),v()),p=o}},100),new MutationObserver(function(t){t.forEach(function(s){s.type==="attributes"&&s.attributeName==="style"&&setTimeout(function(){const o=window.pageYOffset||document.documentElement.scrollTop,y=a();(o>n.scrollThreshold||!y)&&(e.classList.contains("header-scrolled")||m())},10),s.type==="attributes"&&s.attributeName==="class"&&setTimeout(b,10)})}).observe(e,{attributes:!0,attributeFilter:["style","class"],subtree:!1}),a()&&(document.body.classList.add("has-transparent-header"),console.log('[bt-mahsunkids] ‚úÖ Classe "has-transparent-header" adicionada')),document.querySelectorAll("#nav-root > li").forEach(function(t){t.addEventListener("mouseenter",function(){setTimeout(r,10)})}),setInterval(r,1e3),setTimeout(r,500)}}async function A(){console.log("[bt-mahsunkids] üé® Iniciando overlay de banners...");const u={allowedPages:["/","/index.html","/mah-sun-kids","/teste","/home-nova"],opacity:.3,color:"0, 0, 0"};function k(){const e=window.location.pathname;return u.allowedPages.some(n=>e===n||e===n+"/"||e.startsWith(n+"/")||e.includes(n))}function h(){return k()}if(!h()){console.log("[bt-mahsunkids] ‚ùå Overlay n√£o ser√° aplicado nesta p√°gina");return}function c(){document.querySelectorAll(".bt-section-banner .swiper-slide").forEach(function(n){if(!n.querySelector(".banner-overlay")){const r=document.createElement("div");r.className="banner-overlay",r.style.backgroundColor=`rgba(${u.color}, ${u.opacity})`,n.appendChild(r),console.log("[bt-mahsunkids] ‚úÖ Overlay aplicado")}})}setTimeout(c,500);const f=new MutationObserver(c),l=document.querySelector(".bt-section-banner");l&&f.observe(l,{childList:!0,subtree:!0})}export{A as initBannerOverlay,S as mount};
