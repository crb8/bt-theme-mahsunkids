const o=(...r)=>console.log(...r);async function C(r,b){o("[bt-mahsunkids] üöÄ Script de header carregado!");function h(e=50,n=100){return new Promise(s=>{let d=0;const u=()=>{d++;const m=document.querySelector("#header-react-app");if(m){o("[bt-mahsunkids] ‚úÖ Header encontrado ap√≥s",d,"tentativas"),s(m);return}if(d>=e){console.error("[bt-mahsunkids] ‚ùå Header n√£o encontrado ap√≥s",e,"tentativas"),s(null);return}setTimeout(u,n)};u()})}async function c(){const e=await h();e&&l(e)}const f=document.querySelector("#header-react-app");f?(o("[bt-mahsunkids] ‚úÖ Header j√° dispon√≠vel, iniciando..."),l(f)):(o("[bt-mahsunkids] ‚è≥ Aguardando header aparecer..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c());function l(e){if(console.log("[bt-mahsunkids] ‚úÖ Iniciando configura√ß√£o do header..."),!e){console.error("[bt-mahsunkids] ‚ùå Header n√£o fornecido!");return}console.log("[bt-mahsunkids] ‚úÖ Header recebido:",e);const n={allowedPages:["/mah-sun-kids","/teste","/home-nova"],scrollThreshold:50};function s(){document.querySelectorAll(".container-menu a, .container-menu span.menu-text").forEach(function(t){t.classList.remove("text-cor-texto"),t.classList.remove("dark:text-secondary-50"),t.classList.remove("dark:text-secondary-300"),t.classList.remove("dark:hover:text-secondary-300"),t.style.color="#333333"}),document.querySelectorAll(".container-menu").forEach(function(t){t.style.backgroundColor="#ffffff"})}function d(){const a=window.location.pathname;console.log("[bt-mahsunkids] üîç Verificando p√°gina:",a),console.log("[bt-mahsunkids] üìã P√°ginas permitidas:",n.allowedPages);const i=n.allowedPages.some(t=>{const k=a===t,v=a===t+"/",w=a.startsWith(t+"/");return console.log(`[bt-mahsunkids]   Testando "${t}": exact=${k}, withSlash=${v}, startsWith=${w}`),k||v||w});return console.log("[bt-mahsunkids] üéØ Resultado final: P√°gina",i?"PERMITIDA ‚úÖ":"N√ÉO PERMITIDA ‚ùå"),i}function u(){return d()}function m(){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.width="100%",e.style.zIndex="999"}function y(){m();const a=window.pageYOffset||document.documentElement.scrollTop,i=u();if(o("[bt-mahsunkids] üìä Scroll:",a,"| Deve ser transparente?",i),!i){e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",o("[bt-mahsunkids] ‚úÖ Header BRANCO (p√°gina n√£o permitida)");return}a>n.scrollThreshold?(e.classList.add("header-scrolled"),e.style.backgroundColor="#ffffff",o("[bt-mahsunkids] ‚úÖ Header BRANCO (scrolled)")):(e.classList.remove("header-scrolled"),e.style.backgroundColor="transparent",o("[bt-mahsunkids] ‚úÖ Header TRANSPARENTE"))}m(),y();let p=!1;window.addEventListener("scroll",function(){p||(window.requestAnimationFrame(function(){y(),p=!1}),p=!0)});const g=u();console.log('[bt-mahsunkids] üéØ Deve adicionar classe "has-transparent-header"?',g),g?(document.body.classList.add("has-transparent-header"),console.log('[bt-mahsunkids] ‚úÖ Classe "has-transparent-header" ADICIONADA ao body'),console.log("[bt-mahsunkids] üìã Classes do body:",document.body.className)):console.warn('[bt-mahsunkids] ‚ö†Ô∏è Classe "has-transparent-header" N√ÉO foi adicionada (p√°gina n√£o permitida)'),document.querySelectorAll("#nav-root > li").forEach(function(a){a.addEventListener("mouseenter",function(){setTimeout(s,10)})}),setInterval(s,1e3),setTimeout(s,500)}}async function O(){o("[bt-mahsunkids] üé® Iniciando overlay de banners...");const r={allowedPages:["/","/index.html","/mah-sun-kids","/teste","/home-nova"],opacity:.3,color:"0, 0, 0"};function b(){const e=window.location.pathname;return r.allowedPages.some(n=>e===n||e===n+"/"||e.startsWith(n+"/"))}function h(){return b()}if(!h()){o("[bt-mahsunkids] ‚ùå Overlay n√£o ser√° aplicado nesta p√°gina");return}function c(){document.querySelectorAll(".bt-section-banner .swiper-slide").forEach(function(n){if(!n.querySelector(".banner-overlay")){const s=document.createElement("div");s.className="banner-overlay",s.style.backgroundColor=`rgba(${r.color}, ${r.opacity})`,n.appendChild(s),o("[bt-mahsunkids] ‚úÖ Overlay aplicado")}})}setTimeout(c,500);const f=new MutationObserver(c),l=document.querySelector(".bt-section-banner");l&&f.observe(l,{childList:!0,subtree:!0})}export{O as initBannerOverlay,C as mount};
